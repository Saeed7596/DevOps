# Labels and Selectors
#### Used to categorize and filter Kubernetes resources.
#### If labels and selectors are not the same, the resources will not be connected correctly!
- `selector.matchlabels` in `Deployment` must match `labels` in `Pods`.
- `selector` in `Service` must match `labels` in `Pods` to send them traffic.
- `podselector.matchlabels` in `NetworkPolicy` must match `labels` in `Pods`.
- `backend.service.name` on `Ingress` must match `metadata.name` in `Service`.

| **Use Case**                  | **Must Match**                                      |
|--------------------------------|----------------------------------------------------|
| Deployment ‚Üí ReplicaSet ‚Üí Pod  | `selector.matchLabels` in Deployment and `labels` in Pod |
| Service ‚Üí Pod                 | `selector` in Service and `labels` in Pod         |
| NetworkPolicy ‚Üí Pod           | `podSelector.matchLabels` in NetworkPolicy and `labels` in Pod |
| Ingress ‚Üí Service             | `backend.service.name` in Ingress and `metadata.name` in Service |

```bash
kubectl get pod -l env=dev
```
```bash
kubectl -n <namespace-name> describe svc <service-name> | grep -i selector
kubectl -n <namespace-name> describe pod <pod-name> | grep -i label
```
```bash
kubectl get pods --selector env=dev
kubectl get all --selector env=prod --no-headers | wc -l
kubectl get all --selector env=prod,bu=finance,tier=frontend
```

---

## **Annotations**

### **üîπ What are Annotations?**  
Annotations in Kubernetes allow you to attach arbitrary non-identifying metadata to objects. Unlike labels, annotations are not used for selection or filtering but serve for informational purposes such as automation, monitoring, and metadata storage.

---

### **Differences Between Labels and Annotations**  
| Feature           | Labels | Annotations |
|------------------|--------|------------|
| **Purpose**      | Identification & grouping of resources | Adding descriptive metadata |
| **Used in Selectors** | ‚úÖ Yes | ‚ùå No |
| **Key/Value Length Limit** | Limited | Can be long |
| **Common Use Cases** | Filtering, grouping, enforcing policies | Storing descriptions, logs, hashes, or automation data |

---

### **Example of Annotations in a Pod**  
```yaml
apiVersion: v1
kind: Pod
metadata:
  name: my-pod
  annotations:
    kubernetes.io/description: "This pod runs the main backend service."
    monitoring.example.com/logs: "enabled"
spec:
  containers:
  - name: nginx
    image: nginx
```
**Explanation:**  
- `kubernetes.io/description`: Provides an explanation of the pod's function.
- `monitoring.example.com/logs`: Enables logging for monitoring purposes.

---

### **Use Cases of Annotations**  
**Monitoring & Logging:** Used for **Prometheus**, **Fluentd**, and other monitoring tools.  
**CI/CD Management:** Stores information like **commit SHA**, **Docker image version**, etc.  
**Automation:** Allows adding extra metadata for resource control.  
**Storing Non-Filterable Metadata:** Holds data that is not used in **selectors**.

---

### **Conclusion**  
If you need to **filter or group resources**, use **Labels**.  
If you need to **store additional descriptive metadata**, use **Annotations**.

